# Obfuscated by Mr.X
import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiIKdGdfc2VuZF9hbGxtZWRpYV9pYWdyZWUucHkKClZlcnNpIG11bHRpLW1lZGlhIHNlbmRlcjoKLSBLaXJpbSBnYW1iYXIsIHZpZGVvLCBHSUYsIGRva3VtZW4sIGF0YXUgVVJMIGZpbGUuCi0gQmFubmVyIEFTQ0lJIG1lcmFoICsgIkNyZWF0ZSBieSBNci5YIiBiaXJ1IGhhbnlhIGRpIGF3YWwuCi0gQ2FwdGlvbiB0ZXRhcCBBU0NJSSArIHRhbmRhIHRhbmdhbi4KLSBLb25maXJtYXNpICdJIEFHUkVFJyBzZWJlbHVtIGphbGFuLgotIEFtYW4gKGRlbGF5LCBiYWNrb2ZmLCBmbG9vZF93YWl0IGhhbmRsaW5nLCBkYW4gbG9nKS4KLSBUYW1waWxrYW4gKEhUVFAgY29kZSkgZGkgYmVsYWthbmcgc3RhdHVzIGhhc2lsIGtpcmltLgoiIiIKCmltcG9ydCByZXF1ZXN0cywgdGltZSwgb3MKZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHVybHBhcnNlCgojIC0tLSBLb25maWd1cmFzaSBkYXNhciAtLS0KTUlOX0RFTEFZID0gMS4wCkRFRkFVTFRfQkFDS09GRiA9IDIuMApNQVhfUkVUUklFUyA9IDUKTE9HRklMRSA9ICJ0Z19zZW5kX2xvZy50eHQiCgojIC0tLSBXYXJuYSB0ZXJtaW5hbCAtLS0KUkVEID0gIlwwMzNbOTFtIgpCTFVFID0gIlwwMzNbOTRtIgpSRVNFVCA9ICJcMDMzWzBtIgoKIyAtLS0gQmFubmVyIEFTQ0lJIC0tLQpCQU5ORVJfQVNDSUkgPSByIiIiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKIF9fX19fICAgICAgICAgICAgICAgICAgXyAgICAgICBfICAgICAgXyAgICAgICBfICAgICAKfCAgIF9ffF9fXyBfX18gX19fX18gICB8IHxfIF9fX3wgfF8gICB8IHxfIF9fX3wgfF9fXyAKfF9fICAgfCAuIHwgLid8ICAgICB8ICB8IC4gfCAuIHwgIF98ICB8ICBffCAtX3wgfCAtX3wKfF9fX19ffCAgX3xfXyx8X3xffF98ICB8X19ffF9fX3xffCAgICB8X3wgfF9fX3xffF9fX3wKICAgICAgfF98ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKIiIiCgpCQU5ORVJfU0lHTkFUVVJFID0gIkNyZWF0ZSBieSBNci5YID0+IGh0dHBzOi8vd2hvbXJ4LnJmLmdkIgpGSU5BTF9DQVBUSU9OID0gQkFOTkVSX0FTQ0lJICsgIlxuIiArIEJBTk5FUl9TSUdOQVRVUkUKCiMgLS0tIEZ1bmdzaSBiYW50dSAtLS0KZGVmIGlzX3VybChzKToKICAgIHRyeToKICAgICAgICBwID0gdXJscGFyc2UocykKICAgICAgICByZXR1cm4gcC5zY2hlbWUgaW4gKCJodHRwIiwgImh0dHBzIikKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gRmFsc2UKCmRlZiBsb2cobXNnKToKICAgIHByaW50KG1zZykKICAgIHdpdGggb3BlbihMT0dGSUxFLCAiYSIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgZi53cml0ZShtc2cgKyAiXG4iKQoKZGVmIGRldGVjdF9tZWRpYV90eXBlKGZpbGVfcGF0aCk6CiAgICAiIiJEZXRla3NpIGplbmlzIG1lZGlhIGJlcmRhc2Fya2FuIGVrc3RlbnNpIiIiCiAgICBpZiBpc191cmwoZmlsZV9wYXRoKToKICAgICAgICBleHQgPSBvcy5wYXRoLnNwbGl0ZXh0KHVybHBhcnNlKGZpbGVfcGF0aCkucGF0aClbMV0ubG93ZXIoKQogICAgZWxzZToKICAgICAgICBleHQgPSBvcy5wYXRoLnNwbGl0ZXh0KGZpbGVfcGF0aClbMV0ubG93ZXIoKQoKICAgIGlmIGV4dCBpbiBbIi5qcGciLCAiLmpwZWciLCAiLnBuZyIsICIud2VicCJdOgogICAgICAgIHJldHVybiAicGhvdG8iCiAgICBlbGlmIGV4dCBpbiBbIi5tcDQiLCAiLm1rdiIsICIubW92Il06CiAgICAgICAgcmV0dXJuICJ2aWRlbyIKICAgIGVsaWYgZXh0ID09ICIuZ2lmIjoKICAgICAgICByZXR1cm4gImFuaW1hdGlvbiIKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuICJkb2N1bWVudCIKCmRlZiBzZW5kX21lZGlhKHRva2VuLCBjaGF0X2lkLCBmaWxlX2lucHV0LCBjYXB0aW9uKToKICAgICIiIktpcmltIG1lZGlhIG90b21hdGlzIGJlcmRhc2Fya2FuIGplbmlzIiIiCiAgICBtZWRpYV90eXBlID0gZGV0ZWN0X21lZGlhX3R5cGUoZmlsZV9pbnB1dCkKICAgIGlmIG1lZGlhX3R5cGUgPT0gInBob3RvIjoKICAgICAgICBlbmRwb2ludCA9ICJzZW5kUGhvdG8iCiAgICAgICAgZmllbGRfbmFtZSA9ICJwaG90byIKICAgIGVsaWYgbWVkaWFfdHlwZSA9PSAidmlkZW8iOgogICAgICAgIGVuZHBvaW50ID0gInNlbmRWaWRlbyIKICAgICAgICBmaWVsZF9uYW1lID0gInZpZGVvIgogICAgZWxpZiBtZWRpYV90eXBlID09ICJhbmltYXRpb24iOgogICAgICAgIGVuZHBvaW50ID0gInNlbmRBbmltYXRpb24iCiAgICAgICAgZmllbGRfbmFtZSA9ICJhbmltYXRpb24iCiAgICBlbHNlOgogICAgICAgIGVuZHBvaW50ID0gInNlbmREb2N1bWVudCIKICAgICAgICBmaWVsZF9uYW1lID0gImRvY3VtZW50IgoKICAgIHVybCA9IGYiaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHt0b2tlbn0ve2VuZHBvaW50fSIKCiAgICBpZiBpc191cmwoZmlsZV9pbnB1dCk6CiAgICAgICAgZGF0YSA9IHsiY2hhdF9pZCI6IGNoYXRfaWQsIGZpZWxkX25hbWU6IGZpbGVfaW5wdXQsICJjYXB0aW9uIjogY2FwdGlvbn0KICAgICAgICByZXR1cm4gcmVxdWVzdHMucG9zdCh1cmwsIGRhdGE9ZGF0YSkKICAgIGVsc2U6CiAgICAgICAgd2l0aCBvcGVuKGZpbGVfaW5wdXQsICJyYiIpIGFzIGY6CiAgICAgICAgICAgIGZpbGVzID0ge2ZpZWxkX25hbWU6IGZ9CiAgICAgICAgICAgIGRhdGEgPSB7ImNoYXRfaWQiOiBjaGF0X2lkLCAiY2FwdGlvbiI6IGNhcHRpb259CiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0cy5wb3N0KHVybCwgZmlsZXM9ZmlsZXMsIGRhdGE9ZGF0YSkKCmRlZiBoYW5kbGVfcmVzcG9uc2UocmVzcCk6CiAgICAiIiJBbmFsaXNpcyByZXNwb24gVGVsZWdyYW0iIiIKICAgIHRyeToKICAgICAgICBqID0gcmVzcC5qc29uKCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIChGYWxzZSwgImludmFsaWRfanNvbl9yZXNwb25zZSIsIE5vbmUsIGYiSFRUUCB7cmVzcC5zdGF0dXNfY29kZX0iKQoKICAgIGlmIGouZ2V0KCJvayIpOgogICAgICAgIHJldHVybiAoVHJ1ZSwgTm9uZSwgTm9uZSwgai5nZXQoImRlc2NyaXB0aW9uIikpCiAgICBkZXNjcmlwdGlvbiA9IGouZ2V0KCJkZXNjcmlwdGlvbiIsICJVbmtub3duIGVycm9yIikKICAgIHBhcmFtcyA9IGouZ2V0KCJwYXJhbWV0ZXJzIikgb3Ige30KICAgIHJldHJ5X2FmdGVyID0gcGFyYW1zLmdldCgicmV0cnlfYWZ0ZXIiKQogICAgaWYgcmV0cnlfYWZ0ZXIgaXMgbm90IE5vbmU6CiAgICAgICAgcmV0dXJuIChGYWxzZSwgImZsb29kX3dhaXQiLCBmbG9hdChyZXRyeV9hZnRlciksIGRlc2NyaXB0aW9uKQogICAgcmV0dXJuIChGYWxzZSwgImFwaV9lcnJvciIsIE5vbmUsIGRlc2NyaXB0aW9uKQoKIyAtLS0gUHJvZ3JhbSB1dGFtYSAtLS0KZGVmIG1haW4oKToKICAgIHByaW50KCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICBwcmludChSRUQgKyBCQU5ORVJfQVNDSUkgKyBSRVNFVCkKICAgIHByaW50KEJMVUUgKyBCQU5ORVJfU0lHTkFUVVJFICsgUkVTRVQpCiAgICBwcmludCgiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiIpCgogICAgcHJpbnQoIj09PSBUZWxlZ3JhbSBNZWRpYSBTZW5kZXIgKEkgQUdSRUUgb25seSkgPT09IikKICAgIHRva2VuID0gaW5wdXQoIk1hc3Vra2FuIHRva2VuIGJvdDogIikuc3RyaXAoKQogICAgY2hhdF9pZCA9IGlucHV0KCJNYXN1a2thbiBjaGF0X2lkIHR1anVhbiAoYW5na2EgYXRhdSBAdXNlcm5hbWUpOiAiKS5zdHJpcCgpCiAgICBmaWxlX2lucHV0ID0gaW5wdXQoIk1hc3Vra2FuIHBhdGggZmlsZSBsb2thbCBhdGF1IFVSTCBmaWxlOiAiKS5zdHJpcCgpCgogICAgaWYgbm90IHRva2VuIG9yIG5vdCBjaGF0X2lkIG9yIG5vdCBmaWxlX2lucHV0OgogICAgICAgIHByaW50KCJUb2tlbiwgY2hhdF9pZCwgZGFuIGZpbGUgd2FqaWIgZGlpc2kuIEtlbHVhci4iKQogICAgICAgIHJldHVybgoKICAgIHRyeToKICAgICAgICBjb3VudCA9IGludChpbnB1dCgiQmVyYXBhIGthbGkgaW5naW4gZGlraXJpbSAoYW5na2EgPj0xKTogIikuc3RyaXAoKSkKICAgIGV4Y2VwdDoKICAgICAgICBwcmludCgiSnVtbGFoIHRpZGFrIHZhbGlkLiBLZWx1YXIuIikKICAgICAgICByZXR1cm4KICAgIGlmIGNvdW50IDwgMToKICAgICAgICBwcmludCgiSnVtbGFoIGhhcnVzID49IDEuIEtlbHVhci4iKQogICAgICAgIHJldHVybgoKICAgIHRyeToKICAgICAgICBkZWxheSA9IGZsb2F0KGlucHV0KGYiRGVsYXkgYW50YXIga2lyaW0gKGRldGlrLCBtaW5pbWFsIHtNSU5fREVMQVl9KTogIikuc3RyaXAoKSkKICAgIGV4Y2VwdDoKICAgICAgICBkZWxheSA9IE1JTl9ERUxBWQogICAgaWYgZGVsYXkgPCBNSU5fREVMQVk6CiAgICAgICAgZGVsYXkgPSBNSU5fREVMQVkKCiAgICBwcmludCgiXG7imqDvuI8gIEd1bmFrYW4gaGFueWEgZGVuZ2FuIGl6aW4gcGVuZXJpbWEuIikKICAgIGNvbnNlbnQgPSBpbnB1dCgiS2V0aWsgJ0kgQUdSRUUnIHVudHVrIG1lbGFuanV0a2FuOiAiKS5zdHJpcCgpCiAgICBpZiBjb25zZW50ICE9ICJJIEFHUkVFIjoKICAgICAgICBwcmludCgiS29uZmlybWFzaSB0aWRhayBkaWJlcmlrYW4uIEtlbHVhci4iKQogICAgICAgIHJldHVybgoKICAgIGlmIG5vdCBpc191cmwoZmlsZV9pbnB1dCkgYW5kIG5vdCBvcy5wYXRoLmlzZmlsZShmaWxlX2lucHV0KToKICAgICAgICBwcmludCgiRmlsZSB0aWRhayBkaXRlbXVrYW4gZGFuIGJ1a2FuIFVSTC4gS2VsdWFyLiIpCiAgICAgICAgcmV0dXJuCgogICAgbG9nKGYiTXVsYWkga2lyaW0ga2Uge2NoYXRfaWR9LCB0b3RhbD17Y291bnR9LCBkZWxheT17ZGVsYXl9cywgZmlsZT17ZmlsZV9pbnB1dH0iKQoKICAgIHNlbnQgPSAwCiAgICBmb3IgaSBpbiByYW5nZSgxLCBjb3VudCArIDEpOgogICAgICAgIGF0dGVtcHQgPSAwCiAgICAgICAgYmFja29mZiA9IERFRkFVTFRfQkFDS09GRgogICAgICAgIHdoaWxlIGF0dGVtcHQgPD0gTUFYX1JFVFJJRVM6CiAgICAgICAgICAgIGF0dGVtcHQgKz0gMQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXNwID0gc2VuZF9tZWRpYSh0b2tlbiwgY2hhdF9pZCwgZmlsZV9pbnB1dCwgRklOQUxfQ0FQVElPTikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgbG9nKGYiW3tpfV0gRXhjZXB0aW9uOiB7ZX0g4oCUIHJldHJ5IChhdHRlbXB0IHthdHRlbXB0fSkiKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcChiYWNrb2ZmKQogICAgICAgICAgICAgICAgYmFja29mZiAqPSAyCiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgb2ssIHJlYXNvbiwgcmV0cnlfYWZ0ZXIsIGRlc2MgPSBoYW5kbGVfcmVzcG9uc2UocmVzcCkKICAgICAgICAgICAgaWYgb2s6CiAgICAgICAgICAgICAgICBzZW50ICs9IDEKICAgICAgICAgICAgICAgIGxvZyhmIlt7aX1dIOKchSBCZXJoYXNpbCAoSFRUUCB7cmVzcC5zdGF0dXNfY29kZX0pIikKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsaWYgcmVhc29uID09ICJmbG9vZF93YWl0IjoKICAgICAgICAgICAgICAgIGxvZyhmIlt7aX1dIPCfmqsgRmxvb2Qgd2FpdCB7cmV0cnlfYWZ0ZXJ9cyDigJQgcHJvc2VzIGRpaGVudGlrYW4uIikKICAgICAgICAgICAgICAgIHByaW50KGYiVGVsZWdyYW0gbWVtaW50YSBtZW51bmdndSB7cmV0cnlfYWZ0ZXJ9IGRldGlrLiBQcm9zZXMgZGloZW50aWthbi4iKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGVsaWYgcmVzcC5zdGF0dXNfY29kZSBpbiAoNDAxLCA0MDMpOgogICAgICAgICAgICAgICAgbG9nKGYiW3tpfV0g4p2MIEdhZ2FsIChIVFRQIHtyZXNwLnN0YXR1c19jb2RlfSk6IHtkZXNjfS4gTWVuZ2hlbnRpa2FuLiIpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZWxpZiByZXNwLnN0YXR1c19jb2RlID49IDUwMCBvciByZXNwLnN0YXR1c19jb2RlID09IDQyOToKICAgICAgICAgICAgICAgIGxvZyhmIlt7aX1dIOKaoO+4jyBFcnJvciBzZW1lbnRhcmEgKEhUVFAge3Jlc3Auc3RhdHVzX2NvZGV9KToge2Rlc2N9LiBCYWNrb2ZmIHtiYWNrb2ZmfXMuIikKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoYmFja29mZikKICAgICAgICAgICAgICAgIGJhY2tvZmYgKj0gMgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGxvZyhmIlt7aX1dIOKdjCBHYWdhbCAoSFRUUCB7cmVzcC5zdGF0dXNfY29kZX0pOiB7ZGVzY30iKQogICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgaWYgaSA8IGNvdW50OgogICAgICAgICAgICB0aW1lLnNsZWVwKGRlbGF5KQoKICAgIGxvZyhmIlNlbGVzYWkuIFRvdGFsIGJlcmhhc2lsOiB7c2VudH0ve2NvdW50fSIpCiAgICBwcmludChmIlxu4pyFIFByb3NlcyBzZWxlc2FpLiBUb3RhbCBiZXJoYXNpbDoge3NlbnR9L3tjb3VudH0iKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQ==').decode('utf-8'))
